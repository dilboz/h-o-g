(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"./bundles/sf-heatmap.js":function(t,e,o){"use strict";o.r(e);o("./modules/sf-heatmap.js")},"./modules/sf-heatmap.js":function(t,e){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.HeatMap=function(){"use strict";var t=function(){function t(t,e){this.resizeTimer=0,this.previousCellID="",window.sfBlazor=window.sfBlazor,this.element=t,this.dataId=t.id,window.sfBlazor.setCompInstance(this),this.dotnetRef=e}return t.prototype.initialize=function(t){var e=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.add(this.element,"click",this.heatMapMouseClick,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove,this),sf.base.EventHandler.add(this.element,e,this.heatMapMouseLeave,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove,this);var o=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.add(window,o,this.resizeBound.bind(this),this);var i=this.getElementBounds(this.element),n=this.getMaxLabelSize(t.XAxisLabels,t.XAxisTextStyles),s=this.getMaxLabelSize(t.YAxisLabels,t.YAxisTextStyles),l=this.getMaxLabelSize([t.TitleText],t.TitleStyle),a=this.getMaxLabelSize(t.LegendLabels,t.LegendTextStyle);return JSON.stringify({availableSize:i,xAxisSize:n,yAxisSize:s,titleSize:l,legendTextSize:a})},t.prototype.heatMapMouseClick=function(t){this.dotnetRef.invokeMethodAsync("HeatMapMouseClick",this.getEventArgs(t),this.getElementBounds(this.element))},t.prototype.heatMapMouseLeave=function(t){this.dotnetRef.invokeMethodAsync("HeatMapMouseLeave",this.getEventArgs(t),this.getElementBounds(this.element))},t.prototype.heatMapMouseMove=function(t){this.dotnetRef.invokeMethodAsync("HeatMapMouseMove",this.getEventArgs(t),this.getElementBounds(this.element))},t.prototype.resizeBound=function(){var t=this;this.resizeTimer&&clearTimeout(this.resizeTimer),this.element&&(this.resizeTimer=setTimeout((function(){return t.dotnetRef.invokeMethodAsync("ResizeBound",t.getElementBounds(t.element).height,t.getElementBounds(t.element).width,t.getElementBounds(t.element).parentHeight)}),500))},t.prototype.setMouseXY=function(t,e,o){var i=document.getElementById(o).getBoundingClientRect(),n=document.getElementById(o).getBoundingClientRect();this.mouseY=e-n.top-Math.max(i.top-n.top,0),this.mouseX=t-n.left-Math.max(i.left-n.left,0)},t.prototype.renderTooltip=function(t,e,o,i,n,s,l,a,r){var h=document.getElementById(t+"_svg"),p=!(h&&parseInt(h.getAttribute("opacity"),10)>0),d="string"==typeof o?JSON.parse(o):o;n&&!s&&this.updateCellHighlight(o.id),r&&"TailwindDark"==r&&(d.fill="#F9FAFB"),r&&"Bootstrap5Dark"==r&&(d.fill="#E9ECEF");var u=window.sfBlazor.getCompInstance(t);d.content=d.xLabel+d.yLabel+d.value,p&&!sf.base.isNullOrUndefined(u)?(d.content=d.displayText,d.location={x:d.x+d.width/2,y:d.y+d.height/2},d.areaBounds={height:i.height+i.y,width:i.width,x:i.x},d.opacity="Tailwind"==r||"TailwindDark"===r||"Bootstrap5"===r||"Bootstrap5Dark"===r?1:.75,d.theme=r,u.tooltip=new sf.svgbase.Tooltip(d),u.tooltip.appendTo("#"+e)):sf.base.isNullOrUndefined(u.tooltip)||(sf.base.isNullOrUndefined(l)||(u.tooltip.border.color=a.color||u.tooltip.border.color,u.tooltip.textStyle.color=l.color||u.tooltip.textStyle.color,u.tooltip.textStyle.fontFamily=l.fontFamily||u.tooltip.textStyle.fontFamily,u.tooltip.textStyle.fontStyle=l.fontStyle||u.tooltip.textStyle.fontStyle,u.tooltip.textStyle.fontWeight=l.fontWeight||u.tooltip.textStyle.fontWeight,u.tooltip.textStyle.size=l.size||u.tooltip.textStyle.size),r&&"Tailwind"==r&&(u.tooltip.textStyle.color="#FFFFFF",u.tooltip.textStyle.fontWeight="500",u.tooltip.textStyle.size="12px",u.tooltip.textStyle.fontFamily="Inter"),r&&"TailwindDark"==r&&(u.tooltip.textStyle.color="#1F2937",u.tooltip.textStyle.fontWeight="500",u.tooltip.textStyle.size="12px",u.tooltip.textStyle.fontFamily="Inter"),r&&"Bootstrap5"==r&&(u.tooltip.border.width=0,u.tooltip.border.color="",u.tooltip.fill="",u.tooltip.opacity=.75,u.tooltip.textStyle.opacity=1,u.tooltip.textStyle.color=null,u.tooltip.textStyle.fontWeight="Normal",u.tooltip.textStyle.size="13px",u.tooltip.textStyle.fontFamily="Segoe UI"),r&&"Bootstrap5Dark"==r&&(u.tooltip.textStyle.color="#212529",u.tooltip.textStyle.fontWeight="500",u.tooltip.textStyle.size="14px",u.tooltip.textStyle.fontFamily="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'"),d.toolTipX=d.x+d.width/2,d.toolTipY=d.y+d.height/2,d.content=d.displayText,u.tooltip.location=new sf.svgbase.TooltipLocation(d.toolTipX,d.toolTipY),u.tooltip.content=[d.content],u.tooltip.dataBind())},t.prototype.updateCellHighlight=function(t){this.previousCellID!==t&&(""!=this.previousCellID&&this.setOpacity(document.getElementById(this.previousCellID),"1"),this.setOpacity(document.getElementById(t),"0.65"),this.previousCellID=t)},t.prototype.setOpacity=function(t,e){t.setAttribute("opacity",e)},t.prototype.getElementBounds=function(t){var e=this.stringToNumber(this.width,t.offsetWidth)||t.offsetWidth||600,o=this.stringToNumber(this.height,t.offsetHeight)||450,i=t.getBoundingClientRect();return{width:e,height:o,parentHeight:t.parentElement?t.parentElement.offsetHeight:o,left:Math.ceil(i.left),top:Math.ceil(i.top),right:Math.ceil(i.right),bottom:Math.ceil(i.bottom)}},t.prototype.stringToNumber=function(t,e){return sf.base.isNullOrUndefined(t)?null:-1!==t.indexOf("%")?e/100*parseInt(t,10):parseInt(t,10)},t.prototype.getMaxLabelSize=function(t,e){for(var o={height:0,width:0,top:0,left:0,right:0,bottom:0,parentHeight:0},i=0;i<t.length;i++){var n=this.measureText(t[i],e);o.height<n.height&&(o.height=n.height),o.width<n.width&&(o.width=n.width)}return o},t.prototype.getEventArgs=function(t){var e=t.changedTouches?t.changedTouches[0].clientX:t.clientX,o=t.changedTouches?t.changedTouches[0].clientY:t.clientY;this.setMouseXY(e,o,t.currentTarget.id);var i=t.touches,n=[];if(t.type.indexOf("touch")>-1)for(var s=0,l=i.length;s<l;s++)n.push({pageX:i[s].clientX,pageY:i[s].clientY,pointerId:t.pointerId||0});return{type:t.type,clientX:t.clientX,clientY:t.clientY,mouseX:this.mouseX,mouseY:this.mouseY,pointerType:t.pointerType,target:t.target.id,changedTouches:{clientX:t.changedTouches?t.changedTouches[0].clientX:0,clientY:t.changedTouches?t.changedTouches[0].clientY:0},touches:n,pointerId:t.pointerId,ctrlKey:t.ctrlKey}},t.prototype.labelInterSect=function(t,e,o,i){for(var n=!1,s=0;s<e[0].length;s++){if(this.measureText(e[0][s],e[1]).width>i){n=!0;break}}var l=this.returnLabels(e[0],e[1],e[2]),a=this.returnLabels(o[0],o[1],o[2]);this.dotnetRef.invokeMethodAsync("LabelInterSect",n,l,a)},t.prototype.returnLabels=function(t,e,o){for(var i=0;i<t.length;i++){var n=t[i],s=this.measureText(n,e).width;if(s>o)for(var l=n.length-1;l>=0&&(n=n.substring(0,l)+"...",!((s=this.measureText(n,e).width)<=o));--l);t[i]=n}return t},t.prototype.measureText=function(t,e){var o=document.getElementById("heatmapmeasuretext");return null===o&&(o=sf.base.createElement("text",{id:"heatmapmeasuretext"}),document.body.appendChild(o)),o.setAttribute("style","position:absolute;visibility:hidden;font-size:"+e.size+";font-weight:"+e.fontWeight+";font-style:"+e.fontStyle+";font-family:"+e.fontFamily+";top:-100;left:0;white-space:nowrap;line-height:normal"),o.innerText=t,{height:o.clientHeight,width:o.clientWidth,top:null,left:null,right:null,bottom:null,parentHeight:null}},t.prototype.destroy=function(){var t=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.remove(this.element,"click",this.heatMapMouseClick),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove),sf.base.EventHandler.remove(this.element,t,this.heatMapMouseLeave),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove);var e=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.remove(window,e,this.resizeBound.bind(this)),this.element=null},t}();return{initialize:function(e,o,i){new t(e,o);var n=window.sfBlazor.getCompInstance(e.id);return n?n.initialize(i):null},labelInterSect:function(t,e,o,i,n){var s=window.sfBlazor.getCompInstance(t);s&&s.element&&s.labelInterSect(e,o,i,n)},renderTooltip:function(t,e,o,i,n,s,l,a,r,h){var p=window.sfBlazor.getCompInstance(t);p&&p.element&&p.renderTooltip(t,e,i,n,s,l,a,r,h)},fadeOut:function(t){var e=window.sfBlazor.getCompInstance(t);if(e&&e.element){if(sf.base.isNullOrUndefined(e)||!sf.base.isNullOrUndefined(e)&&sf.base.isNullOrUndefined(e.tooltip))return;""!=e.previousCellID&&(e.setOpacity(document.getElementById(e.previousCellID),"1"),e.previousCellID="",e.tooltip.fadeOut())}},destroy:function(t){var e=window.sfBlazor.getCompInstance(t);e.element&&e&&e.destroy()}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=20.3.52`).then(()=>{sfBlazor.loadDependencies('sfheatmap');})})();